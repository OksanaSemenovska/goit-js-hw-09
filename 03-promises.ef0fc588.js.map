{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAM,CACZC,KAAKC,SAASC,cAAc,SAC5BC,WAAWF,SAASC,cAAc,yBAClCE,KAAKH,SAASC,cAAc,wBAC5BG,OAAOJ,SAASC,cAAc,0BAC9BI,OAAOL,SAASC,cAAc,WAG9BH,EAAIC,KAAKO,iBAAiB,UAyB1B,SAAkBC,GAChBT,EAAIO,OAAOG,UAAW,EAGpBD,EAAME,iBACN,MAAMC,UAAUC,MAAEA,EAAKR,KAAEA,EAAIC,OAAEA,IAAUG,EAAMK,cAE/C,IAAKC,EAAcC,OAAOH,EAAMI,OAC5BC,EAAaF,OAAOX,EAAKY,OACzBE,EAAeH,OAAOV,EAAOW,OAKjC,MAAMG,EAAWC,aAAY,KAmB3B,GAhDN,SAAuBC,EAAUT,GAC/B,MAAMU,EAAU,IAAIC,SAAQ,CAACC,EAAKC,KACVC,KAAKC,SAAW,GAEpCH,EAAI,CAAEI,SAAAP,E,MAAUT,IAEjBa,EAAI,CAAEG,SAAAP,E,MAAUT,GAAQ,GAGzBA,GAEF,OADEiB,QAAQC,IAAIR,GACPA,C,CAqBHS,CAAcC,EAAUlB,GACrBmB,MAAMC,IACLrC,EAAAsC,OAAOC,QAAQ,qBAAqBF,EAAON,eAAeM,EAAOtB,UAAUyB,EAAO,IAEnFC,OAAOC,IACN1C,EAAAsC,OAAOK,QAAQ,oBAAoBD,EAAIX,eAAeW,EAAI3B,UAAUyB,EAAQ,IAC3EI,SAAQ,KACT1C,EAAIC,KAAK0C,QACTb,QAAQC,IAAIhB,GACZe,QAAQC,IAAIb,GACZY,QAAQC,IAAIZ,EAAc,IAM1Bc,IAAad,EAIf,OAHAc,EAAS,EACTjC,EAAIO,OAAOG,UAAW,OACtBkC,cAAcxB,GAKda,GAAY,EACZlB,GAAeG,CAAW,GAC9BH,E,IAlEJ,IAAIkB,EAAW,EACf,MAAMK,EAAS,CACbO,MAAO,QACPC,aAAc,OACZjB,SAAU,aACVkB,SAAU,OACVC,SAAS","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst ref = {\nform:document.querySelector('.form'),\nfirstDelay:document.querySelector('input[name = \"delay\"]'),\nstep:document.querySelector('input[name = \"step\"]'),\namount:document.querySelector('input[name = \"amount\"]'),\nbutton:document.querySelector('button'),\n\n}\nref.form.addEventListener('submit', onSubmit)\n\nlet position = 1;\nconst option = {\n  width: '550px', \n  borderRadius: '20px',\n    position: 'center-top',\n    distance: '25px',\n    fontSize:'25px'\n}\nfunction createPromise(position, delay) {\n  const promise = new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      res({ position, delay })\n    } else {\n     rej({ position, delay });\n    }\n    \n  },delay)\n    console.log(promise )\n  return promise\n\n}\n\nfunction onSubmit(event) {\n  ref.button.disabled = true\n \n\n    event.preventDefault();\n    const{elements: { delay, step, amount }}=event.currentTarget\n  \n    let  promiseDelay= Number(delay.value)\n    let promiseStep= Number(step.value)\n    let promiseAmount= Number(amount.value)\n  \n  \n\n   \n    const promiseId= setInterval(() => {\n  \n  \n      createPromise(position, promiseDelay)\n        .then((result) => {\n          Notify.success(`Fulfilled promise ${result.position} in ${result.delay}ms`,option)\n        })\n        .catch((err) => {\n          Notify.failure(`Rejected promise ${err.position} in ${err.delay}ms`,option )\n        }).finally(()=>{\n          ref.form.reset()\n          console.log(promiseDelay)\n          console.log(promiseStep)\n          console.log(promiseAmount)\n      \n        })\n         \n      \n     \n      if (position === promiseAmount) {\n        position=1\n        ref.button.disabled = false;\n        clearInterval(promiseId)\n        return \n       \n    \n        }\n        position += 1\n        promiseDelay+= promiseStep\n  },promiseDelay)\n    \n  \n  \n  }\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$ref","form","document","querySelector","firstDelay","step","amount","button","addEventListener","event","disabled","preventDefault","elements","delay","currentTarget","promiseDelay","Number","value","promiseStep","promiseAmount","promiseId","setInterval","position1","promise","Promise","res","rej","Math","random","position","console","log","$47d4ff9957288465$var$createPromise","$47d4ff9957288465$var$position","then","result","Notify","success","$47d4ff9957288465$var$option","catch","err","failure","finally","reset","clearInterval","width","borderRadius","distance","fontSize"],"version":3,"file":"03-promises.ef0fc588.js.map"}